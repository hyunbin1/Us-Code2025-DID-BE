{
  "openapi": "3.0.1",
  "info": {
    "title": "AI Gemini API",
    "version": "v1.0.0",
    "description": "Gemini 기반 텍스트 생성 기능을 제공하는 AI API입니다. 사용자가 질문을 입력하면, Google Gemini 모델을 통해 자연어로 답변을 생성합니다."
  },
  "servers": [
    {
      "url": "http://104.197.55.199:8080/api/v1"
    }
  ],
  "tags": [
    {
      "name": "AI-Gemini",
      "description": "Google Gemini 기반 텍스트 생성 API"
    },
    {
      "name": "Email",
      "description": "Email 관련 API"
    },
    {
      "name": "Naver Blog",
      "description": "네이버 블로그 자동화 관련 API"
    }
  ],
  "paths": {
    "/naver-blog": {
      "post": {
        "tags": ["Naver Blog"],
        "summary": "네이버 블로그 자동 작성",
        "description": "사용자가 입력한 정보를 바탕으로 Gemini API를 통해 네이버 블로그 형식의 글을 생성합니다.",
        "requestBody": {
          "description": "블로그 생성을 위한 주제 및 추가 정보",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientNaverBlogRequestDTO"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "블로그 글 작성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeminiResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증 실패"
          },
          "500": {
            "description": "서버 오류"
          }
        }
      }
    },
    "/mail/send": {
      "post": {
        "tags": ["Email"],
        "summary": "메일 전송",
        "description": "HTML 또는 평문 메일을 지정된 수신자에게 전송합니다.",
        "requestBody": {
          "description": "메일 전송 요청",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "to": {
                    "type": "string",
                    "description": "수신자 이메일 주소",
                    "example": "kimgusqls1@gmail.com"
                  },
                  "subject": {
                    "type": "string",
                    "description": "메일 제목",
                    "example": "문의 답변입니다"
                  },
                  "content": {
                    "type": "string",
                    "description": "메일 본문 (HTML 또는 텍스트)",
                    "example": "<p>안녕하세요! 메일 잘 받았습니다.</p>"
                  },
                  "html": {
                    "type": "boolean",
                    "description": "HTML 여부 (true일 경우 HTML로 처리)",
                    "example": true
                  }
                },
                "required": ["to", "subject", "content", "html"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "메일 전송 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "messageId": {
                      "type": "string",
                      "example": "<2103503259.1.1751025106807@DESKTOP-92GP1I6>"
                    },
                    "error": {
                      "type": "string",
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "요청이 잘못된 경우"
          },
          "500": {
            "description": "메일 전송 중 서버 오류 발생"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ClientNaverBlogRequestDTO": {
        "type": "object",
        "properties": {
          "contentsType": {
            "type": "string",
            "description": "글의 목적 - 일상생활, 상품 홍보 등 ",
            "example": "의성마늘 판매 후기"
          },
          "extraPrompt": {
            "type": "string",
            "description": "프롬프트에 포함될 추가 정보",
            "example": "# 오늘은 벌이 매우 많더라 "
          },
          "item": {
            "type": "string",
            "description": "판매 농작물 : 토마토 당근 이런거 ",
            "example": "토마토"
          }
        },
        "required": ["contentsType", "extraPrompt"]
      },
      "GeminiResponse": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "생성된 블로그 제목",
            "example": "의성마늘, 이렇게 맛있을 수가?"
          },
          "content": {
            "type": "string",
            "description": "생성된 블로그 본문 내용",
            "example": "경북 의성에서 직접 재배한 마늘로 만든 이야기입니다..."
          }
        }
      }
    }
  }
}
